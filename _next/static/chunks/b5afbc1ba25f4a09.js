(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,48124,e=>{"use strict";var t=e.i(53171),l=e.i(99437),s=e.i(95092);let a=(0,l.default)(()=>e.A(93667),{loadableGenerated:{modules:[79273]},ssr:!1,loading:()=>(0,t.jsx)("div",{className:"flex h-[500px] items-center justify-center text-white/60",children:"게임 로딩 중..."})});function i(e){return`dailyGame:${e}`}function d(e,t){try{localStorage.setItem(i(e),JSON.stringify(t))}catch{}}function r({game:e}){let[l,a]=(0,s.useState)(null);(0,s.useEffect)(()=>{a(function(e){try{let t=localStorage.getItem(i(e));if(!t)return null;return JSON.parse(t)}catch{return null}}(e.date))},[e.date]);let r=(0,s.useCallback)(t=>{d(e.date,t),a(t)},[e.date]),u=(0,s.useCallback)(t=>{d(e.date,t),a(t)},[e.date]);return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"mb-5 flex flex-wrap items-center justify-between gap-3 rounded-xl border border-white/10 bg-white/5 px-4 py-3",children:[(0,t.jsx)("div",{className:"text-sm text-white/70",children:l?.cleared?"phaser"===l.type?(0,t.jsxs)("span",{children:["클리어 · 최고점 ",(0,t.jsx)("span",{className:"text-white",children:l.bestScore})]}):(0,t.jsxs)("span",{children:["클리어 · 점수 ",(0,t.jsx)("span",{className:"text-white",children:l.score})]}):(0,t.jsx)("span",{children:"아직 기록 없음"})}),(0,t.jsx)("button",{type:"button",className:"rounded-full border border-white/10 bg-black/30 px-3 py-1 text-xs text-white/70 hover:bg-black/40",onClick:()=>{var t=e.date;try{localStorage.removeItem(i(t))}catch{}a(null),window.location.reload()},children:"기록 초기화"})]}),"quiz"===e.type?(0,t.jsx)(c,{game:e,initial:l?.type==="quiz"?l:null,onClear:r}):"memory"===e.type?(0,t.jsx)(o,{game:e,initial:l?.type==="memory"?l:null,onClear:u}):(0,t.jsx)(n,{game:e,record:l?.type==="phaser"?l:null,onSave:t=>{d(e.date,t),a(t)}})]})}function n({game:e,record:l,onSave:s}){return"dodger"===e.template?(0,t.jsx)(a,{date:e.date,seed:e.seed,stagePack:e.stagePack,difficulty:e.difficulty,theme:e.theme,initialBest:l?{bestScore:l.bestScore,bestTimeMs:l.bestTimeMs,cleared:l.cleared}:null,onResult:({cleared:e,score:t,timeMs:a})=>{let i=Math.max(l?.bestScore??0,t),d=l?.bestTimeMs?Math.min(l.bestTimeMs,a):a;s({type:"phaser",cleared:!!l?.cleared||e,bestScore:i,bestTimeMs:d,savedAt:Date.now()})}}):(0,t.jsx)("div",{className:"text-white/80",children:"아직 이 템플릿은 준비 중."})}function c({game:e,initial:l,onClear:a}){let[i,d]=(0,s.useState)(l?.pickedId??null),r=(0,s.useMemo)(()=>e.choices.find(e=>e.correct)?.id??null,[e.choices]),n=!!i&&!!r&&i===r;return(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-white/60",children:"퀴즈"}),(0,t.jsx)("h2",{className:"mt-2 text-2xl font-semibold",children:e.question}),(0,t.jsx)("div",{className:"mt-5 grid gap-3",children:e.choices.map(e=>{let l=i===e.id,s=null!==i,c=s?e.correct?"border-emerald-300/50":l?"border-rose-300/50":"border-white/10":"border-white/10";return(0,t.jsxs)("button",{type:"button",className:`w-full rounded-xl border ${c} bg-white/5 px-4 py-3 text-left hover:bg-white/10`,onClick:()=>{null!==i||(d(e.id),a({type:"quiz",cleared:!0,score:+!!(r&&e.id===r),pickedId:e.id,savedAt:Date.now()}))},disabled:null!==i,children:[(0,t.jsx)("div",{className:"font-medium",children:e.label}),s&&l?(0,t.jsx)("div",{className:"mt-1 text-sm text-white/60",children:n?"정답!":"틀렸어요"}):null]},e.id)})}),i?(0,t.jsx)("div",{className:"mt-5 text-sm text-white/70",children:n?"오늘도 트렌드 감 좋다.":"내일 다시 도전!"}):(0,t.jsx)("div",{className:"mt-5 text-sm text-white/60",children:"하나를 골라봐."})]})}function o({game:e,initial:l,onClear:a}){let[i,d]=(0,s.useState)([]),[r,n]=(0,s.useState)(new Set),[c,o]=(0,s.useState)(l?.moves??0),[u,m]=(0,s.useState)(null),h=(0,s.useMemo)(()=>{let t=new Map;for(let l of e.cards){let e=t.get(l.label)??[];e.push(l.id),t.set(l.label,e)}return e.cards.map(e=>({...e,group:t.get(e.label)?.[0]??e.id}))},[e.cards]),x=r.size===e.cards.length;return(0,s.useEffect)(()=>{if(!x||!u)return;let e=Math.max(0,Date.now()-u),t=Math.max(0,Math.round(1e4/(1+e/1e3)+5e3/(1+c)));a({type:"memory",cleared:!0,moves:c,timeMs:e,score:t,savedAt:Date.now()})},[x,u,c,a]),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-white/60",children:"카드 매칭"}),(0,t.jsx)("h2",{className:"mt-2 text-2xl font-semibold",children:"같은 키워드 2장 찾기"}),(0,t.jsx)("div",{className:"mt-5 grid grid-cols-2 gap-3 sm:grid-cols-4",children:h.map(e=>{let l=i.includes(e.id)||r.has(e.id);return(0,t.jsxs)("button",{type:"button",className:"aspect-[3/2] rounded-xl border border-white/10 bg-white/5 p-3 text-left hover:bg-white/10",onClick:()=>(function(e){if(r.has(e)||i.includes(e)||i.length>=2)return;null===u&&m(Date.now());let t=[...i,e];if(d(t),2===t.length){o(e=>e+1);let[e,l]=t,s=h.find(t=>t.id===e),a=h.find(e=>e.id===l),i=s&&a&&s.label===a.label;window.setTimeout(()=>{i&&n(t=>{let s=new Set(t);return s.add(e),s.add(l),s}),d([])},550)}})(e.id),disabled:r.has(e.id),children:[(0,t.jsx)("div",{className:"text-xs text-white/50",children:l?"OPEN":"HIDDEN"}),(0,t.jsx)("div",{className:"mt-2 font-medium",children:l?e.label:"????"})]},e.id)})}),(0,t.jsx)("div",{className:"mt-5 text-sm text-white/70",children:x?"클리어!":"빠르게 맞춰봐."})]})}e.s(["default",()=>r])},93667,e=>{e.v(t=>Promise.all(["static/chunks/9fc5d1b72562af88.js"].map(t=>e.l(t))).then(()=>t(79273)))}]);