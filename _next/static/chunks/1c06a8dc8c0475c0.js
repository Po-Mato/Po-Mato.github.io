(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,26555,(e,t,i)=>{t.exports=e.r(23586)},57361,e=>{"use strict";var t=e.i(53171),i=e.i(59588),s=e.i(95092),r=e.i(26555);let n="KEYS",l="VALUES";class o{constructor(e,t){const i=e._tree,s=Array.from(i.keys());this.set=e,this._type=t,this._path=s.length>0?[{node:i,keys:s}]:[]}next(){let e=this.dive();return this.backtrack(),e}dive(){if(0===this._path.length)return{done:!0,value:void 0};let{node:e,keys:t}=h(this._path);if(""===h(t))return{done:!1,value:this.result()};let i=e.get(h(t));return this._path.push({node:i,keys:Array.from(i.keys())}),this.dive()}backtrack(){if(0===this._path.length)return;let e=h(this._path).keys;e.pop(),e.length>0||(this._path.pop(),this.backtrack())}key(){return this.set._prefix+this._path.map(({keys:e})=>h(e)).filter(e=>""!==e).join("")}value(){return h(this._path).node.get("")}result(){switch(this._type){case l:return this.value();case n:return this.key();default:return[this.key(),this.value()]}}[Symbol.iterator](){return this}}let h=e=>e[e.length-1],a=(e,t,i,s,r,n,l,o)=>{let h=n*l;e:for(let d of e.keys())if(""===d){let t=r[h-1];t<=i&&s.set(o,[e.get(d),t])}else{let h=n;for(let e=0;e<d.length;++e,++h){let s=d[e],n=l*h,o=n-l,a=r[n],u=Math.max(0,h-i-1),c=Math.min(l-1,h+i);for(let e=u;e<c;++e){let i=s!==t[e],l=r[o+e]+ +i,h=r[o+e+1]+1,d=r[n+e]+1,u=r[n+e+1]=Math.min(l,h,d);u<a&&(a=u)}if(a>i)continue e}a(e.get(d),t,i,s,r,h,l,o+d)}};class d{constructor(e=new Map,t=""){this._size=void 0,this._tree=e,this._prefix=t}atPrefix(e){if(!e.startsWith(this._prefix))throw Error("Mismatched prefix");let[t,i]=u(this._tree,e.slice(this._prefix.length));if(void 0===t){let[t,s]=_(i);for(let i of t.keys())if(""!==i&&i.startsWith(s)){let r=new Map;return r.set(i.slice(s.length),t.get(i)),new d(r,e)}}return new d(t,e)}clear(){this._size=void 0,this._tree.clear()}delete(e){return this._size=void 0,m(this._tree,e)}entries(){return new o(this,"ENTRIES")}forEach(e){for(let[t,i]of this)e(t,i,this)}fuzzyGet(e,t){return((e,t,i)=>{let s=new Map;if(void 0===t)return s;let r=t.length+1,n=r+i,l=new Uint8Array(n*r).fill(i+1);for(let e=0;e<r;++e)l[e]=e;for(let e=1;e<n;++e)l[e*r]=e;return a(e,t,i,s,l,1,r,""),s})(this._tree,e,t)}get(e){let t=c(this._tree,e);return void 0!==t?t.get(""):void 0}has(e){let t=c(this._tree,e);return void 0!==t&&t.has("")}keys(){return new o(this,n)}set(e,t){if("string"!=typeof e)throw Error("key must be a string");return this._size=void 0,f(this._tree,e).set("",t),this}get size(){if(this._size)return this._size;this._size=0;let e=this.entries();for(;!e.next().done;)this._size+=1;return this._size}update(e,t){if("string"!=typeof e)throw Error("key must be a string");this._size=void 0;let i=f(this._tree,e);return i.set("",t(i.get(""))),this}fetch(e,t){if("string"!=typeof e)throw Error("key must be a string");this._size=void 0;let i=f(this._tree,e),s=i.get("");return void 0===s&&i.set("",s=t()),s}values(){return new o(this,l)}[Symbol.iterator](){return this.entries()}static from(e){let t=new d;for(let[i,s]of e)t.set(i,s);return t}static fromObject(e){return d.from(Object.entries(e))}}let u=(e,t,i=[])=>{if(0===t.length||null==e)return[e,i];for(let s of e.keys())if(""!==s&&t.startsWith(s))return i.push([e,s]),u(e.get(s),t.slice(s.length),i);return i.push([e,t]),u(void 0,"",i)},c=(e,t)=>{if(0===t.length||null==e)return e;for(let i of e.keys())if(""!==i&&t.startsWith(i))return c(e.get(i),t.slice(i.length))},f=(e,t)=>{let i=t.length;t:for(let s=0;e&&s<i;){for(let r of e.keys())if(""!==r&&t[s]===r[0]){let n=Math.min(i-s,r.length),l=1;for(;l<n&&t[s+l]===r[l];)++l;let o=e.get(r);if(l===r.length)e=o;else{let i=new Map;i.set(r.slice(l),o),e.set(t.slice(s,s+l),i),e.delete(r),e=i}s+=l;continue t}let r=new Map;return e.set(t.slice(s),r),r}return e},m=(e,t)=>{let[i,s]=u(e,t);if(void 0!==i){if(i.delete(""),0===i.size)p(s);else if(1===i.size){let[e,t]=i.entries().next().value;g(s,e,t)}}},p=e=>{if(0===e.length)return;let[t,i]=_(e);if(t.delete(i),0===t.size)p(e.slice(0,-1));else if(1===t.size){let[i,s]=t.entries().next().value;""!==i&&g(e.slice(0,-1),i,s)}},g=(e,t,i)=>{if(0===e.length)return;let[s,r]=_(e);s.set(r+t,i),s.delete(r)},_=e=>e[e.length-1];class x{constructor(e){if((null==e?void 0:e.fields)==null)throw Error('MiniSearch: option "fields" must be provided');const t=null==e.autoVacuum||!0===e.autoVacuum?C:e.autoVacuum;this._options={...S,...e,autoVacuum:t,searchOptions:{...I,...e.searchOptions||{}},autoSuggestOptions:{...j,...e.autoSuggestOptions||{}}},this._index=new d,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldIds={},this._fieldLength=new Map,this._avgFieldLength=[],this._nextId=0,this._storedFields=new Map,this._dirtCount=0,this._currentVacuum=null,this._enqueuedVacuum=null,this._enqueuedVacuumConditions=M,this.addFields(this._options.fields)}add(e){let{extractField:t,stringifyField:i,tokenize:s,processTerm:r,fields:n,idField:l}=this._options,o=t(e,l);if(null==o)throw Error(`MiniSearch: document does not have ID field "${l}"`);if(this._idToShortId.has(o))throw Error(`MiniSearch: duplicate ID ${o}`);let h=this.addDocumentId(o);for(let l of(this.saveStoredFields(h,e),n)){let n=t(e,l);if(null==n)continue;let o=s(i(n,l),l),a=this._fieldIds[l],d=new Set(o).size;for(let e of(this.addFieldLength(h,a,this._documentCount-1,d),o)){let t=r(e,l);if(Array.isArray(t))for(let e of t)this.addTerm(a,h,e);else t&&this.addTerm(a,h,t)}}}addAll(e){for(let t of e)this.add(t)}addAllAsync(e,t={}){let{chunkSize:i=10}=t,s={chunk:[],promise:Promise.resolve()},{chunk:r,promise:n}=e.reduce(({chunk:e,promise:t},s,r)=>(e.push(s),(r+1)%i==0)?{chunk:[],promise:t.then(()=>new Promise(e=>setTimeout(e,0))).then(()=>this.addAll(e))}:{chunk:e,promise:t},s);return n.then(()=>this.addAll(r))}remove(e){let{tokenize:t,processTerm:i,extractField:s,stringifyField:r,fields:n,idField:l}=this._options,o=s(e,l);if(null==o)throw Error(`MiniSearch: document does not have ID field "${l}"`);let h=this._idToShortId.get(o);if(null==h)throw Error(`MiniSearch: cannot remove document with ID ${o}: it is not in the index`);for(let l of n){let n=s(e,l);if(null==n)continue;let o=t(r(n,l),l),a=this._fieldIds[l],d=new Set(o).size;for(let e of(this.removeFieldLength(h,a,this._documentCount,d),o)){let t=i(e,l);if(Array.isArray(t))for(let e of t)this.removeTerm(a,h,e);else t&&this.removeTerm(a,h,t)}}this._storedFields.delete(h),this._documentIds.delete(h),this._idToShortId.delete(o),this._fieldLength.delete(h),this._documentCount-=1}removeAll(e){if(e)for(let t of e)this.remove(t);else if(arguments.length>0)throw Error("Expected documents to be present. Omit the argument to remove all documents.");else this._index=new d,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldLength=new Map,this._avgFieldLength=[],this._storedFields=new Map,this._nextId=0}discard(e){let t=this._idToShortId.get(e);if(null==t)throw Error(`MiniSearch: cannot discard document with ID ${e}: it is not in the index`);this._idToShortId.delete(e),this._documentIds.delete(t),this._storedFields.delete(t),(this._fieldLength.get(t)||[]).forEach((e,i)=>{this.removeFieldLength(t,i,this._documentCount,e)}),this._fieldLength.delete(t),this._documentCount-=1,this._dirtCount+=1,this.maybeAutoVacuum()}maybeAutoVacuum(){if(!1===this._options.autoVacuum)return;let{minDirtFactor:e,minDirtCount:t,batchSize:i,batchWait:s}=this._options.autoVacuum;this.conditionalVacuum({batchSize:i,batchWait:s},{minDirtCount:t,minDirtFactor:e})}discardAll(e){let t=this._options.autoVacuum;try{for(let t of(this._options.autoVacuum=!1,e))this.discard(t)}finally{this._options.autoVacuum=t}this.maybeAutoVacuum()}replace(e){let{idField:t,extractField:i}=this._options,s=i(e,t);this.discard(s),this.add(e)}vacuum(e={}){return this.conditionalVacuum(e)}conditionalVacuum(e,t){return this._currentVacuum?(this._enqueuedVacuumConditions=this._enqueuedVacuumConditions&&t,null!=this._enqueuedVacuum||(this._enqueuedVacuum=this._currentVacuum.then(()=>{let t=this._enqueuedVacuumConditions;return this._enqueuedVacuumConditions=M,this.performVacuuming(e,t)})),this._enqueuedVacuum):!1===this.vacuumConditionsMet(t)?Promise.resolve():(this._currentVacuum=this.performVacuuming(e),this._currentVacuum)}async performVacuuming(e,t){let i=this._dirtCount;if(this.vacuumConditionsMet(t)){let t=e.batchSize||z.batchSize,s=e.batchWait||z.batchWait,r=1;for(let[e,i]of this._index){for(let[e,t]of i)for(let[s]of t)this._documentIds.has(s)||(t.size<=1?i.delete(e):t.delete(s));0===this._index.get(e).size&&this._index.delete(e),r%t==0&&await new Promise(e=>setTimeout(e,s)),r+=1}this._dirtCount-=i}await null,this._currentVacuum=this._enqueuedVacuum,this._enqueuedVacuum=null}vacuumConditionsMet(e){if(null==e)return!0;let{minDirtCount:t,minDirtFactor:i}=e;return t=t||C.minDirtCount,i=i||C.minDirtFactor,this.dirtCount>=t&&this.dirtFactor>=i}get isVacuuming(){return null!=this._currentVacuum}get dirtCount(){return this._dirtCount}get dirtFactor(){return this._dirtCount/(1+this._documentCount+this._dirtCount)}has(e){return this._idToShortId.has(e)}getStoredFields(e){let t=this._idToShortId.get(e);if(null!=t)return this._storedFields.get(t)}search(e,t={}){let{searchOptions:i}=this._options,s={...i,...t},r=this.executeQuery(e,t),n=[];for(let[e,{score:t,terms:i,match:l}]of r){let r=i.length||1,o={id:this._documentIds.get(e),score:t*r,terms:Object.keys(l),queryTerms:i,match:l};Object.assign(o,this._storedFields.get(e)),(null==s.filter||s.filter(o))&&n.push(o)}return e===x.wildcard&&null==s.boostDocument||n.sort(O),n}autoSuggest(e,t={}){t={...this._options.autoSuggestOptions,...t};let i=new Map;for(let{score:s,terms:r}of this.search(e,t)){let e=r.join(" "),t=i.get(e);null!=t?(t.score+=s,t.count+=1):i.set(e,{score:s,terms:r,count:1})}let s=[];for(let[e,{score:t,terms:r,count:n}]of i)s.push({suggestion:e,terms:r,score:t/n});return s.sort(O),s}get documentCount(){return this._documentCount}get termCount(){return this._index.size}static loadJSON(e,t){if(null==t)throw Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJS(JSON.parse(e),t)}static async loadJSONAsync(e,t){if(null==t)throw Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJSAsync(JSON.parse(e),t)}static getDefault(e){if(S.hasOwnProperty(e))return w(S,e);throw Error(`MiniSearch: unknown option "${e}"`)}static loadJS(e,t){let{index:i,documentIds:s,fieldLength:r,storedFields:n,serializationVersion:l}=e,o=this.instantiateMiniSearch(e,t);for(let[e,t]of(o._documentIds=T(s),o._fieldLength=T(r),o._storedFields=T(n),o._documentIds))o._idToShortId.set(t,e);for(let[e,t]of i){let i=new Map;for(let e of Object.keys(t)){let s=t[e];1===l&&(s=s.ds),i.set(parseInt(e,10),T(s))}o._index.set(e,i)}return o}static async loadJSAsync(e,t){let{index:i,documentIds:s,fieldLength:r,storedFields:n,serializationVersion:l}=e,o=this.instantiateMiniSearch(e,t);for(let[e,t]of(o._documentIds=await V(s),o._fieldLength=await V(r),o._storedFields=await V(n),o._documentIds))o._idToShortId.set(t,e);let h=0;for(let[e,t]of i){let i=new Map;for(let e of Object.keys(t)){let s=t[e];1===l&&(s=s.ds),i.set(parseInt(e,10),await V(s))}++h%1e3==0&&await L(0),o._index.set(e,i)}return o}static instantiateMiniSearch(e,t){let{documentCount:i,nextId:s,fieldIds:r,averageFieldLength:n,dirtCount:l,serializationVersion:o}=e;if(1!==o&&2!==o)throw Error("MiniSearch: cannot deserialize an index created with an incompatible version");let h=new x(t);return h._documentCount=i,h._nextId=s,h._idToShortId=new Map,h._fieldIds=r,h._avgFieldLength=n,h._dirtCount=l||0,h._index=new d,h}executeQuery(e,t={}){if(e===x.wildcard)return this.executeWildcardQuery(t);if("string"!=typeof e){let i={...t,...e,queries:void 0},s=e.queries.map(e=>this.executeQuery(e,i));return this.combineResults(s,i.combineWith)}let{tokenize:i,processTerm:s,searchOptions:r}=this._options,n={tokenize:i,processTerm:s,...r,...t},{tokenize:l,processTerm:o}=n,h=l(e).flatMap(e=>o(e)).filter(e=>!!e).map(v(n)).map(e=>this.executeQuerySpec(e,n));return this.combineResults(h,n.combineWith)}executeQuerySpec(e,t){let i,s,r={...this._options.searchOptions,...t},n=(r.fields||this._options.fields).reduce((e,t)=>({...e,[t]:w(r.boost,t)||1}),{}),{boostDocument:l,weights:o,maxFuzzy:h,bm25:a}=r,{fuzzy:d,prefix:u}={...I.weights,...o},c=this._index.get(e.term),f=this.termResults(e.term,e.term,1,e.termBoost,c,n,l,a);if(e.prefix&&(i=this._index.atPrefix(e.term)),e.fuzzy){let t=!0===e.fuzzy?.2:e.fuzzy,i=t<1?Math.min(h,Math.round(e.term.length*t)):t;i&&(s=this._index.fuzzyGet(e.term,i))}if(i)for(let[t,r]of i){let i=t.length-e.term.length;if(!i)continue;null==s||s.delete(t);let o=u*t.length/(t.length+.3*i);this.termResults(e.term,t,o,e.termBoost,r,n,l,a,f)}if(s)for(let t of s.keys()){let[i,r]=s.get(t);if(!r)continue;let o=d*t.length/(t.length+r);this.termResults(e.term,t,o,e.termBoost,i,n,l,a,f)}return f}executeWildcardQuery(e){let t=new Map,i={...this._options.searchOptions,...e};for(let[e,s]of this._documentIds){let r=i.boostDocument?i.boostDocument(s,"",this._storedFields.get(e)):1;t.set(e,{score:r,terms:[],match:{}})}return t}combineResults(e,t="or"){if(0===e.length)return new Map;let i=y[t.toLowerCase()];if(!i)throw Error(`Invalid combination operator: ${t}`);return e.reduce(i)||new Map}toJSON(){let e=[];for(let[t,i]of this._index){let s={};for(let[e,t]of i)s[e]=Object.fromEntries(t);e.push([t,s])}return{documentCount:this._documentCount,nextId:this._nextId,documentIds:Object.fromEntries(this._documentIds),fieldIds:this._fieldIds,fieldLength:Object.fromEntries(this._fieldLength),averageFieldLength:this._avgFieldLength,storedFields:Object.fromEntries(this._storedFields),dirtCount:this._dirtCount,index:e,serializationVersion:2}}termResults(e,t,i,s,r,n,l,o,h=new Map){if(null==r)return h;for(let a of Object.keys(n)){let d=n[a],u=this._fieldIds[a],c=r.get(u);if(null==c)continue;let f=c.size,m=this._avgFieldLength[u];for(let r of c.keys()){if(!this._documentIds.has(r)){this.removeTerm(u,r,t),f-=1;continue}let n=l?l(this._documentIds.get(r),t,this._storedFields.get(r)):1;if(!n)continue;let p=c.get(r),g=this._fieldLength.get(r)[u],_=i*s*d*n*b(p,f,this._documentCount,g,m,o),x=h.get(r);if(x){x.score+=_,k(x.terms,e);let i=w(x.match,t);i?i.push(a):x.match[t]=[a]}else h.set(r,{score:_,terms:[e],match:{[t]:[a]}})}}return h}addTerm(e,t,i){let s=this._index.fetch(i,N),r=s.get(e);if(null==r)(r=new Map).set(t,1),s.set(e,r);else{let e=r.get(t);r.set(t,(e||0)+1)}}removeTerm(e,t,i){if(!this._index.has(i))return void this.warnDocumentChanged(t,e,i);let s=this._index.fetch(i,N),r=s.get(e);null==r||null==r.get(t)?this.warnDocumentChanged(t,e,i):1>=r.get(t)?r.size<=1?s.delete(e):r.delete(t):r.set(t,r.get(t)-1),0===this._index.get(i).size&&this._index.delete(i)}warnDocumentChanged(e,t,i){for(let s of Object.keys(this._fieldIds))if(this._fieldIds[s]===t)return void this._options.logger("warn",`MiniSearch: document with ID ${this._documentIds.get(e)} has changed before removal: term "${i}" was not present in field "${s}". Removing a document after it has changed can corrupt the index!`,"version_conflict")}addDocumentId(e){let t=this._nextId;return this._idToShortId.set(e,t),this._documentIds.set(t,e),this._documentCount+=1,this._nextId+=1,t}addFields(e){for(let t=0;t<e.length;t++)this._fieldIds[e[t]]=t}addFieldLength(e,t,i,s){let r=this._fieldLength.get(e);null==r&&this._fieldLength.set(e,r=[]),r[t]=s;let n=this._avgFieldLength[t]||0;this._avgFieldLength[t]=(n*i+s)/(i+1)}removeFieldLength(e,t,i,s){if(1===i){this._avgFieldLength[t]=0;return}let r=this._avgFieldLength[t]*i-s;this._avgFieldLength[t]=r/(i-1)}saveStoredFields(e,t){let{storeFields:i,extractField:s}=this._options;if(null==i||0===i.length)return;let r=this._storedFields.get(e);for(let n of(null==r&&this._storedFields.set(e,r={}),i)){let e=s(t,n);void 0!==e&&(r[n]=e)}}}x.wildcard=Symbol("*");let w=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0,y={or:(e,t)=>{for(let i of t.keys()){let s=e.get(i);if(null==s)e.set(i,t.get(i));else{let{score:e,terms:r,match:n}=t.get(i);s.score=s.score+e,s.match=Object.assign(s.match,n),F(s.terms,r)}}return e},and:(e,t)=>{let i=new Map;for(let s of t.keys()){let r=e.get(s);if(null==r)continue;let{score:n,terms:l,match:o}=t.get(s);F(r.terms,l),i.set(s,{score:r.score+n,terms:r.terms,match:Object.assign(r.match,o)})}return i},and_not:(e,t)=>{for(let i of t.keys())e.delete(i);return e}},b=(e,t,i,s,r,n)=>{let{k:l,b:o,d:h}=n;return Math.log(1+(i-t+.5)/(t+.5))*(h+e*(l+1)/(e+l*(1-o+o*s/r)))},v=e=>(t,i,s)=>{let r="function"==typeof e.fuzzy?e.fuzzy(t,i,s):e.fuzzy||!1,n="function"==typeof e.prefix?e.prefix(t,i,s):!0===e.prefix,l="function"==typeof e.boostTerm?e.boostTerm(t,i,s):1;return{term:t,fuzzy:r,prefix:n,termBoost:l}},S={idField:"id",extractField:(e,t)=>e[t],stringifyField:(e,t)=>e.toString(),tokenize:e=>e.split(A),processTerm:e=>e.toLowerCase(),fields:void 0,searchOptions:void 0,storeFields:[],logger:(e,t)=>{"function"==typeof(null==console?void 0:console[e])&&console[e](t)},autoVacuum:!0},I={combineWith:"or",prefix:!1,fuzzy:!1,maxFuzzy:6,boost:{},weights:{fuzzy:.45,prefix:.375},bm25:{k:1.2,b:.7,d:.5}},j={combineWith:"and",prefix:(e,t,i)=>t===i.length-1},z={batchSize:1e3,batchWait:10},M={minDirtFactor:.1,minDirtCount:20},C={...z,...M},k=(e,t)=>{e.includes(t)||e.push(t)},F=(e,t)=>{for(let i of t)e.includes(i)||e.push(i)},O=({score:e},{score:t})=>t-e,N=()=>new Map,T=e=>{let t=new Map;for(let i of Object.keys(e))t.set(parseInt(i,10),e[i]);return t},V=async e=>{let t=new Map,i=0;for(let s of Object.keys(e))t.set(parseInt(s,10),e[s]),++i%1e3==0&&await L(0);return t},L=e=>new Promise(t=>setTimeout(t,e)),A=/[\n\r\p{Z}\p{P}]+/u;function E(e){return e.split(/\s+/).map(e=>e.trim()).filter(Boolean).slice(0,6)}function D(e,t){let i=e.replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;").replaceAll("'","&#39;"),s=E(t);if(!s.length)return i;let r=[...s].sort((e,t)=>t.length-e.length),n=i;for(let e of r){let t=RegExp(`(${e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"ig");n=n.replace(t,'<mark class="rounded bg-yellow-300/20 px-1">$1</mark>')}return n}function q(){let e=((0,r.useSearchParams)().get("q")??"").trim(),[n,l]=(0,s.useState)(e),[o,h]=(0,s.useState)(!0),[a,d]=(0,s.useState)([]),[u,c]=(0,s.useState)("all"),[f,m]=(0,s.useState)("relevance");(0,s.useEffect)(()=>{let e=!1;return async function(){try{h(!0);let t=await fetch("/search-index.json",{cache:"force-cache"}),i=await t.json();e||d(i.docs??[])}finally{e||h(!1)}}(),()=>{e=!0}},[]);let p=(0,s.useMemo)(()=>{let e;return(e=new x({fields:["title","description","tags","content"],storeFields:["type","slug","title","description","date","tags"],searchOptions:{boost:{title:5,tags:3,description:2,content:1},prefix:!0,fuzzy:.2}})).addAll(a),e},[a]),g=(0,s.useMemo)(()=>{let e=new Set;for(let t of a)for(let i of t.tags??[])e.add(i);return[...e].sort((e,t)=>e.localeCompare(t))},[a]),_=(0,s.useMemo)(()=>{let e=n.trim();if(!e)return[];let t=p.search(e,{combineWith:"AND"});return"all"!==u&&(t=t.filter(e=>(e.tags??[]).includes(u))),"new"===f&&(t=[...t].sort((e,t)=>{let i=e.date?Date.parse(e.date):0;return(t.date?Date.parse(t.date):0)-i})),t},[p,n,f,u]);return(0,t.jsxs)("main",{className:"mx-auto max-w-3xl p-10 text-white",children:[(0,t.jsxs)("header",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold",children:"검색"}),(0,t.jsx)("p",{className:"mt-3 text-lg text-white/80",children:"제목/설명/태그/본문에서 검색합니다."})]}),(0,t.jsxs)("div",{className:"mb-6 space-y-3",children:[(0,t.jsx)("input",{value:n,onChange:e=>l(e.target.value),placeholder:"예: nextjs, threejs, i18n ...",className:"w-full rounded-xl border border-white/10 bg-black/40 px-4 py-3 text-white placeholder:text-white/40 outline-none focus:border-white/30"}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,t.jsxs)("label",{className:"text-sm text-white/70",children:["태그",(0,t.jsxs)("select",{value:u,onChange:e=>c(e.target.value),className:"ml-2 rounded-lg border border-white/10 bg-black/40 px-2 py-1 text-white",children:[(0,t.jsx)("option",{value:"all",children:"전체"}),g.map(e=>(0,t.jsxs)("option",{value:e,children:["#",e]},e))]})]}),(0,t.jsxs)("label",{className:"text-sm text-white/70",children:["정렬",(0,t.jsxs)("select",{value:f,onChange:e=>m(e.target.value),className:"ml-2 rounded-lg border border-white/10 bg-black/40 px-2 py-1 text-white",children:[(0,t.jsx)("option",{value:"relevance",children:"관련도"}),(0,t.jsx)("option",{value:"new",children:"최신순"})]})]}),(0,t.jsxs)("span",{className:"text-sm text-white/60",children:["Tip: URL로도 검색 가능 → ",(0,t.jsx)("code",{className:"text-white/70",children:"/search?q=nextjs"})]})]})]}),o?(0,t.jsx)("div",{className:"rounded-xl border border-white/10 bg-black/30 p-6",children:(0,t.jsx)("p",{className:"text-white/80",children:"인덱스를 불러오는 중..."})}):n.trim()?0===_.length?(0,t.jsx)("div",{className:"rounded-xl border border-white/10 bg-black/30 p-6",children:(0,t.jsx)("p",{className:"text-white/80",children:"검색 결과가 없어요."})}):(0,t.jsx)("ul",{className:"space-y-4",children:_.map(e=>{let s,r;return(0,t.jsxs)("li",{className:"rounded-xl border border-white/10 bg-black/30 p-6 backdrop-blur",children:[e.date?(0,t.jsx)("div",{className:"text-sm text-white/60",children:e.date}):null,(0,t.jsx)("div",{className:"text-xs text-white/50",children:"portfolio"===e.type?"PORTFOLIO":"POST"}),(0,t.jsx)("h2",{className:"mt-1 text-2xl font-semibold",children:(0,t.jsx)(i.default,{className:"hover:underline",href:"portfolio"===e.type?`/portfolio/${e.slug}/`:`/posts/${e.slug}/`,children:(0,t.jsx)("span",{dangerouslySetInnerHTML:{__html:D(e.title,n)}})})}),e.description?(0,t.jsx)("p",{className:"mt-2 text-white/80",dangerouslySetInnerHTML:{__html:D(e.description,n)}}):null,(r=(s=a.find(t=>t.slug===e.slug&&t.type===e.type))?function(e,t,i=180){let s=E(t);if(!s.length)return e.slice(0,i);let r=e.toLowerCase(),n=Math.max(0,(s.map(e=>r.indexOf(e.toLowerCase())).filter(e=>e>=0).sort((e,t)=>e-t)[0]??0)-40),l=e.slice(n,n+i);return(n>0?"…":"")+l+(n+i<e.length?"…":"")}(s.content,n):"")?(0,t.jsx)("p",{className:"mt-3 text-sm text-white/60",dangerouslySetInnerHTML:{__html:D(r,n)}}):null,Array.isArray(e.tags)&&e.tags.length?(0,t.jsx)("div",{className:"mt-3 flex flex-wrap gap-2",children:e.tags.map(e=>(0,t.jsxs)("span",{className:"rounded-full border border-white/10 bg-white/5 px-2 py-1 text-xs text-white/70",children:["#",e]},e))}):null]},e.id)})}):(0,t.jsx)("div",{className:"rounded-xl border border-white/10 bg-black/30 p-6",children:(0,t.jsx)("p",{className:"text-white/80",children:"검색어를 입력해줘."})}),(0,t.jsx)("footer",{className:"mt-10 text-sm text-white/50",children:(0,t.jsxs)("p",{children:["인덱스 문서는 ",(0,t.jsx)("code",{className:"text-white/60",children:"/search-index.json"}),"에서 제공됩니다."]})})]})}e.s(["default",()=>q],57361)}]);